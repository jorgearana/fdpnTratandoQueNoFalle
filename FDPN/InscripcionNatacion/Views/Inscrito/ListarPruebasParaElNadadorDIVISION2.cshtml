

@model InscripcionNatacion.ViewModels.Inscrito.ListadoInscritoViewModel

@{
    ViewBag.Title = "Listado de pruebas del nadador";
    string path = "http://afiliaciones.fdpn.org/Content/Images/";
    FDPN.Models.SetupTorneo setup = ViewBag.setup;
}
<div id="setuptorneo" style="visibility:hidden;">@setup.TipoTorneo.Nombre</div>


@*Datos del deportista, resumen de inscripcion*@
<div class="wrapper wrapper-content animated fadeInRight  border-bottom white-bg dashboard-header">
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-12">
            <h2>@setup.Torneo.Meet_name1</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <div class="widget-head-color-box navy-bg p-lg text-center">
                <div class="m-b-md">
                    <h3 class="font-bold no-margins">
                        @Model.afiliado.Afiliado.Nombre
                    </h3>
                    <h3 class="font-bold no-margins">
                        @Model.afiliado.Afiliado.Apellido_Paterno
                    </h3>
                    <h4>@Model.afiliado.Afiliado.Fecha_de_nacimiento.ToString("dd / MMMM / yyyy")</h4>
                </div>
                <img src=@Url.Content(path + @Model.afiliado.RutaFoto + ".jpg") class="rounded m-b-md fotocarnet" alt="No tiene foto en la aplicación de afiliaciones">
                <h4>Código: @Model.afiliado.DNI</h4>
                <h6>código interno: @Model.afiliado.InscripcionId</h6>
                @if (Model.afiliado.Afiliado.Sexo == "F")
                {
                    <h2>DAMA</h2>
                }
                else
                {
                    <h2>VARÓN</h2>
                }
            </div>

            <div class="espaciado"></div>
            @Html.ActionLink("Regresar al listado", "ListarNadadores", "Inscrito", new { MeetId = @Model.MeetId }, new { @class = "btn btn-success" })
            <input id="buttonGrabarInscripciones" class="btn btn-danger" value="Grabar las inscripciones" />
        </div>
        <div class="col-md-4">
            @*Resumen*@

            <h2>Datos de la inscripción</h2>
            <small>Pruebas máximas en las que puede inscribirse.</small>
            <ul class="list-group clear-list m-t">
                <li class="list-group-item">
                    <span class="float-right label label-danger" id="permitido">@setup.pruebasXsesion</span>
                    <span class="">Pruebas Máximas por sesión</span>
                </li>
                <li class="list-group-item">
                    <span class="float-right label label-danger" id="MaximoSinMarca">
                        @Model.SinMarca
                    </span>
                    <span class="">Número máximos de pruebas con marca</span>
                </li>
                <li class="list-group-item">
                    <span class="float-right label label-danger" id="PruebasTotales">
                        @Model.PruebasTotales
                    </span>
                    <span class="">Número máximos de pruebas en el torneo</span>
                </li>

                <li class="dropdown-divider"></li>

                <li class="list-group-item">
                    <span class="float-right label label-warning" id="inscripcionPruebasSinMarca">
                        @Model.PruebasInscritasSinMarca
                    </span>
                    <span class="">Pruebas ingresadas con marca</span>
                </li>
                <li class="list-group-item">
                    <span class="float-right label label-warning" id="inscripciontotal">
                        @Model.PruebasInscritas
                    </span>
                    <span class="">Pruebas inscritas totales</span>
                </li>

            </ul>

        </div>

        <div class="col-md-4">

            <h2>Inscripción por sesión</h2>
            <small>Número de pruebas en cada sesión.</small>
            <ul class="list-group clear-list m-t">

                @for (int i = 0; i < Model.Sesiones.Count(); i++)
                {

                    //Estos son los nombres de los ids que se usarán más abajo
                    var inscritoid = "inscrito" + @Model.Sesiones[i].Sesion.ToString();
                    var permitidoid = "permitido" + @Model.Sesiones[i].Sesion.ToString();

                    <li class="list-group-item fist-item">
                        <span class="float-right label label-success" id=@inscritoid>
                            @Model.Sesiones[i].Inscritos
                        </span>
                        <span class="">Sesión @Model.Sesiones[i].Sesion</span>
                        Pruebas :
                    </li>


                }
            </ul>


        </div>

    </div>
</div>

<!-- Tabla de Team Manager -->

<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox ">
                <div class="ibox-title">
                    <h3>Relación de pruebas en las que puede inscribirse</h3>
                </div>
            </div>
            <div class="ibox-content">
                <table id="dataTables1" class="table table-hover display seleccion" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Sesión</th>
                            <th>Prueba</th>
                            <th>Distancia</th>
                            <th>Estilo</th>
                            <th>Edad</th>
                            <th>Marca</th>
                            <th>Piscina</th>
                            <th>MM larga</th>
                            <th>MM corta</th>
                            <th>Torneo</th>

                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var @item in Model.listaDeEventos)
                        {
                            var style = "";
                            var clase = "";
                            if (!item.Cumple)
                            {
                                clase = "nocumplemarca";
                            }

                            if (item.entradayainscrita)
                            {
                                style = "selected";
                            }
                            else
                            {
                                style = "";
                            }
                            <tr class="@style">
                                @*<tr>*@
                                <td class=@("sesion" + item.sesion.ToString())>@item.sesion</td>
                                <td>@item.evento.Event_ptr</td>
                                <td>@item.evento.Event_dist </td>
                                <td>@item.estilo</td>
                                <td>@item.evento.Low_age - @item.evento.High_Age</td>
                                <td class="@clase">@item.tiempo</td>
                                <td>@item.PiscinaDelTiempo</td>
                                <td>@item.MMLargaString</td>
                                <td>@item.MMCortaString</td>
                                <td>@item.torneo</td>
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>


<!-- Resumen por sesiones-->
<div class="grid work-progress no-border">
    <!-- BEGIN PROFILE -->
    <!-- END PROFILE -->
    <!-- BEGIN WORK PROGRESS -->
    <div class="col-md-6">

        <div class="grid-body">




        </div>
    </div>
</div>
<!-- END WORK PROGRESS -->
<div style="visibility:hidden">
    <div id="Piscina">@Model.Piscina</div>
    <div id="InscripcionId">@Model.afiliado.InscripcionId</div>
    <div id="MeetId">@Model.MeetId</div>
    <div id="YaestaInscrito">@Model.YaestaInscrito</div>
</div>
